# Скрипт для массового обновления авторства в Git-репозиториях

## Описание

Этот скрипт предназначен для автоматического обновления информации об авторе и коммитере в нескольких Git-репозиториях. Он особенно полезен в ситуациях, когда необходимо изменить старые email адреса на новые во всей истории коммитов нескольких проектов.

## Назначение

Скрипт решает следующие задачи:

1. Массовое обновление информации об авторе и коммитере в нескольких репозиториях.
2. Замена старых email адресов на новый во всех коммитах истории.
3. Автоматизация процесса клонирования, обновления и отправки изменений в репозитории.

## Логика работы

1. Скрипт использует переменные, определенные в начале файла:
   - `REPOSITORIES`: массив имен репозиториев для обработки.
   - `OLD_EMAILS`: массив старых email адресов, которые нужно заменить.
   - `GITHUB_USERNAME` и `GITHUB_TOKEN`: учетные данные GitHub для доступа к репозиториям.
   - `CORRECT_NAME` и `CORRECT_EMAIL`: новые данные автора для замены.

2. Для каждого репозитория из списка выполняются следующие действия:
   - Проверка существования локальной копии репозитория.
   - Клонирование репозитория, если локальная копия отсутствует.
   - Проверка наличия предыдущих изменений авторства.
   - Если изменения еще не были внесены, выполняется `git filter-branch` для замены информации об авторе и коммитере.
   - Отправка обновленной истории в удаленный репозиторий.
   - Добавление коммита-маркера для предотвращения повторной обработки.

3. Процесс повторяется для каждого репозитория в списке.

## Совместимость

Скрипт разработан для работы на следующих платформах:
- Linux
- macOS
- Windows (через Git Bash)

## Важные замечания

- Скрипт использует `git push --force`, что может привести к потере данных при неправильном использовании.
- Необходимо иметь соответствующие права доступа ко всем репозиториям в списке.
- Рекомендуется сначала протестировать скрипт на копиях репозиториев.
- Убедитесь, что у вас достаточно места на диске для клонирования всех репозиториев.
- Скрипт добавляет пустой коммит-маркер в каждый обработанный репозиторий.

## Использование

1. Убедитесь, что у вас установлен Git и он доступен в командной строке.
2. Создайте персональный токен доступа GitHub с правами на доступ к репозиториям.
3. Отредактируйте переменные в начале файла `rewrite_author.sh`, установив правильные значения для всех параметров.
4. Сделайте скрипт исполняемым (для Unix-подобных систем):
   ```
   chmod +x rewrite_author.sh
   ```
5. Запустите скрипт:
   - На Linux/macOS: `./rewrite_author.sh`
   - На Windows (Git Bash): `./rewrite_author.sh` или `bash rewrite_author.sh`

**Внимание:** Используйте этот скрипт с осторожностью, особенно на продакшн-репозиториях. Всегда делайте резервные копии перед выполнением массовых изменений в истории Git.
